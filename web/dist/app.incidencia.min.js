var appRegister=angular.module("incidencia",[]);function ControllerIncidencia(e,n){e.incidencia={torneo:"PRI-APE18",partido:"",club:"",jugador:"",periodo:"",tiempo:"",tipo:""},e.getPartidos=function(){n.post("GetDatos?ori=datos_partidos",{data:{index:!1,spaces:!1,extraData:[{torneo:e.incidencia.torneo}]}}).then(function(i){e.partidos=i.data.partidos,console.log("imprimo partidos.."),console.log(i)},function(i){alert("Error al intentar enviar el registro."),alert(i)})},e.getClubes=function(i){n.post("GetDatos?ori=datos_clubes",{data:{index:!1,spaces:!1,extraData:[{partido:i}]}}).then(function(i){e.clubes=i.data.clubes,console.log("imprimo clubes.."),console.log(i)},function(i){alert("Error al intentar enviar el registro."),alert(i)})},e.getJugadores=function(i){n.post("GetDatos?ori=datos_jugadores",{data:{index:!1,spaces:!1,extraData:[{miEquipo:"N",club:i}]}}).then(function(i){e.jugadores=i.data.jugadores,console.log("imprimo jugadores.."),console.log(i)},function(i){alert("Error al intentar enviar el registro."),alert(i)})},e.getIncidenciaTipos=function(i){n.post("GetDatos?ori=datos_incidencia_tipos",{data:{index:!1,spaces:!1}}).then(function(i){e.incidenciaTipos=i.data.incidenciaTipos,console.log("imprimo tipos de incidencia.."),console.log(i)},function(i){alert("Error al intentar enviar el registro."),alert(i)})},e.enviar=function(){console.log("entro a eviar.."),n.post("AddIncidencia",{data:{index:!1,spaces:!1,incidencia:e.incidencia}}).then(function(i){e.incidencia.torneo="PRI-APE18",e.incidencia.partido="",e.incidencia.club="",e.incidencia.jugador="",e.incidencia.periodo="",e.incidencia.tiempo="",e.incidencia.tipo="",console.log("imprimo respuesta.."),console.log(i),NeAlert(i.data.state,"Atencion!",i.data.message)},function(i){alert("Error al intentar enviar el registro."),alert(i)})},e.partidos={},e.clubes={},e.jugadores={},e.incidenciaTipos={},e.getPartidos(),e.getClubes(),e.getJugadores(),e.getIncidenciaTipos(),e.changePartido=function(){console.log("change partido: "+e.incidencia.partido.id),e.getClubes(e.incidencia.partido.id)},e.changeClub=function(){null!==e.incidencia.club&&(console.log("change club: "+e.incidencia.club.id),e.getJugadores(e.incidencia.club.id))}}appRegister.controller("ControllerIncidencia",ControllerIncidencia);